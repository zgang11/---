<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://blog.csdn.net/github_34708151/article/details/93998883">
</head>

<body>
    <!-- <script>
        const target = {
            a: 1,
            b: 2
        };
        const source = {
            b: 4,
            c: 5
        };

        const returnedTarget = Object.assign(target, source);

        console.log(target);
        // expected output: Object { a: 1, b: 4, c: 5 }

        console.log(returnedTarget);
        // expected output: Object { a: 1, b: 4, c: 5 }

        console.log(target === returnedTarget)
    </script> -->

    <script>
        // 木易杨
        if (typeof Object.assign2 != 'function') {
            // Attention 1
            Object.defineProperty(Object, "assign2", {
                value: function (target) {
                    'use strict';
                    if (target == null) { // Attention 2
                        throw new TypeError('Cannot convert undefined or null to object');
                    }

                    // Attention 3
                    var to = Object(target);

                    for (var index = 1; index < arguments.length; index++) {
                        var nextSource = arguments[index];

                        if (nextSource != null) { // Attention 2
                            // Attention 4
                            for (var nextKey in nextSource) {
                                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                                    to[nextKey] = nextSource[nextKey];
                                }
                            }
                        }
                    }
                    return to;
                },
                writable: true,
                configurable: true
            });
        }


        // 木易杨
        // 测试用例
        let a = {
            name: "advanced",
            age: 18
        }
        let b = {
            name: "muyiy",
            book: {
                title: "You Don't Know JS",
                price: "45"
            }
        }
        let c = Object.assign2(a, b);
        console.log(c);
        // {
        // 	name: "muyiy",
        //  age: 18,
        // 	book: {title: "You Don't Know JS", price: "45"}
        // } 
        console.log(a === c);
        // true
    </script>
</body>

</html>