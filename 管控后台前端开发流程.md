#### 本地查看md文件  vscode安装插件Markdown Preview Enhanced
----------------------------------------------------------------

#### 一、整体开发流程
1. 需求方（客户，领导，产品经理等）提出需求，并完成产品规格、需求文档
2. 产品、开发、测试等相关角色参与需求评审，收集各方意见最终定稿
3. 领导做任务分配
4. 各模块前后端做概要设计
5. 后端在API管理平台录入接口
6. 前后端分开开发
7. 提测
8. bug修复

------------------------------------------------------------------
#### 二、前端开发流程
##### 管控后台系统
1. 拉完代码后，初始化项目。运行以下3行命令
yarn run init
git submodule foreach --recursive git submodule init
git submodule foreach --recursive git submodule update
2. 进入app目录：cd apps/admin
3. 切换到主分支： git checkout dev
4. 创建开发分支： git checkout -b story-xxx
5. 视图相关的代码放在src/views目录下
6. 添加新路由后，需要重新启动app
7. 连接后台：
  + 在src/services/resource.js设置websocketUrl
	+ 例如：websocketUrl = "ws://10.95.58.77:39090/websocket"
  + 在localstorage里填写edgeUrl:ws://10.95.58.77:39090

8. 启动项目 yarn serve
9. 打开http://10.95.58.77:39090/，在Session Storage里复制token，把token粘贴到运行项目中的Session Storage，刷新页面就可以看到效果了。

------------------------------------------------------------------

#### 三、前后端联调
1、启动完项目，在localstorage加上 bc-debug:*。
2、按f12，就能在控制台里看到调用的接口。

----------------------------------------------------------------
#### 四、前端发包流程
#####管控后台系统
+ 在项目根目录中运行 yarn build 命令进行打包。打包成功后，压缩dist文件，并将压缩包重新命名为：product-browser-console；
压缩包格式：
```
|-- dist
    |-- admin
    |-- download
    |-- login
```
+ 打开这个地址，申请帐号：
http://jenkins.ops.qianxin-inc.cn/jenkins/view/butcher/job/butcher/job/product-browser-console/
+ 登陆后，点击左侧 Build with Parameters，填写好tag，将压缩包上传，选择deploy，点击build。
   + 更新$\color{#0b62a2}{10.95.58.77}$-product-browser-console
     + deploy false：更新开发环境(8000)
     + deploy true: 新测试环境(39090)
   + 更新$\color{#0b62a2}{10.41.72.110}$-product-browser-console-dev


------------------------------------------------------------------
#### 五、api更新
1. 拉取 仓库https://git-biz.qianxin-inc.cn/upming/browserconsole-fe/libs/browser-pbjs
2. 切换到 开发分支  git checkout dev
3. 初始化子仓库git submodule update --init
4. 切换到api目录 cd proto/browserconsole-api
5. 拉取api分支 git checkout v1.8.5
6. 切换到主仓库cd ..
7. 修改package.json版本号，联调使用临时版本号，如：v1.8.5-alpha.1 v1.8.5-test.1
8. 执行yarn genModel生成js文件

以上步骤执行后可以将生成的lib/index.js复制到目标项目的node_modules/@x-project/browser-pbjs/libs/目录下，进行开发调试。